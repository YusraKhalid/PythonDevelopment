{"10146606":
{"variations":
{"variants":
[{"id":"5712836246839","inWarehouse":true,"attributes":{"colorPattern":"10146606_Black","size":"M"},"pricing":{"standard":"48.0","sale":"48.0","isPromoPrice":false,"quantities":[{"unit":"","value":"1.0"}]}},
{"id":"5712836629410","inWarehouse":true,"attributes":{"colorPattern":"10146606_Black","size":"XS"},"pricing":{"standard":"48.0","sale":"48.0","isPromoPrice":false,"quantities":[{"unit":"","value":"1.0"}]}},
{"id":"5712836629427","inWarehouse":true,"attributes":{"colorPattern":"10146606_Black","size":"S"},"pricing":{"standard":"48.0","sale":"48.0","isPromoPrice":false,"quantities":[{"unit":"","value":"1.0"}]}},
{"id":"5712836629434","inWarehouse":true,"attributes":{"colorPattern":"10146606_Black","size":"L"},"pricing":{"standard":"48.0","sale":"48.0","isPromoPrice":false,"quantities":[{"unit":"","value":"1.0"}]}},
{"id":"5712836629458","inWarehouse":true,"attributes":{"colorPattern":"10146606_Black","size":"XL"},"pricing":{"standard":"48.0","sale":"48.0","isPromoPrice":false,"quantities":[{"unit":"","value":"1.0"}]}}]}}}




# -*- coding: utf-8 -*-

# Define here the models for your scraped items
#
# See documentation in:
# http://doc.scrapy.org/en/latest/topics/items.html

import scrapy


class VeromodaSpiderItem(scrapy.Item):
    # define the fields for your item here like:
    category = scrapy.Field()
    product_id = scrapy.Field()
    description = scrapy.Field()
    url_orignal = scrapy.Field()
    brand = scrapy.Field()
    image_urls = scrapy.Field()
    skus = scrapy.Field()
    care = scrapy.Field()
    name = scrapy.Field()
    gender = scrapy.Field()
	
class skuItem(scrapy.Item):
    currency = scrapy.Field()
    price = scrapy.Field()
    out_of_stock = scrapy.Field()
    color = scrapy.Field()
    size = scrapy.Field()
	
	
	
	restrict_xpaths=(
                "//*[@id='category_3']/a",
                "//*[@id='category-level-1']/li/a",
                "//div[@class='thumbnail']/a")
				
				
				
		Rule(
            SgmlLinkExtractor(restrict_xpaths=(
                "//div[@class='thumbnail']/a")),
            callback="parse_item"
        )
		
		
		
        # Check how many items are there in the dictionary
        length_of_skus = len(skus[product_id]["variations"]["variants"])
        i = 0
        while (i < length_of_skus):
            item = skuItem()
            item["price"] = skus[product_id]["variations"]["variants"][i]["pricing"]["standard"]
            item["out_of_stock"] = not(skus[product_id]["variations"]["variants"][i]["inWarehouse"])
            item["color"] = skus[product_id]["variations"]["variants"][i]["attributes"]["colorPattern"]
            item["size"] = skus[product_id]["variations"]["variants"][i]["attributes"]["size"]
            key = skus[product_id]["variations"]["variants"][i]["id"]
            skus_dictionary[key] = item 
            i = i + 1
			
			
			
			
			
			
			
description = hxs.select('//div[@class="tabs__half tabs__half--first"]/div[@class="tabs__content"]/p/text()').extract()
