{% extends 'articles/base.html' %}
{% load static %}
{% load materializecss %}
{% load account_extras %}

{% block imports %}
<link rel="stylesheet" href="{% static 'accounts/css/materialize.min.css' %}">
<script src="{% static 'accounts/js/jquery-3.4.1.js' %}"></script>
{% endblock %}

{% block title %}
Login | 
{% endblock %}

{% block container %}
<br><br>
<center>
    <h4>Log in to your account</h4>
</center>
<div class="row">
    {% if form.errors %}
    {{ form.errors }}
    {% endif %}
    {% if next|adminrequired %}
    {% if user.is_authenticated %}
    {% if not user.is_superuser %}
    <p>This page is accessible to admin members only <span><a href="/">Back to Home</a></span></p>
    {% endif %}
    {% endif %}
    {% endif %}
    <form class="col s12" method="post">
        {% csrf_token %}
        <br>
        <div class="row">
            <div class="col s3"></div>
            <div class="input-field col s6">
                {{ form.username|materializecss }}
            </div>
        </div>
        <br>
        <div class="row">
            <div class="col s3"></div>
            <div class="input-field col s6">
                {{ form.password|materializecss }}
            </div>
        </div>       
        <center>
            <p>Don't have an account? <span><a href="/accounts/signup/">Create a new one!</a></span></p>
            <br>
            <button type="submit" class="btn waves-effect btn-large btn-success">Login</button>
        </center>
        <input type="hidden" name="next" value="{{ next }}">
    </form>
</div>
{% endblock container %}